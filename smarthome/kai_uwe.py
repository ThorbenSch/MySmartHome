import paho.mqtt.client as mqttimport timeimport mathfrom weather import Weather, Unitweather = Weather(unit=Unit.CELSIUS)YELLOW_OFFSET = 2var_tau_outdoor = 512.0var_tau_thorben = 512.0var_tau_livingroom = 512.0var_tau_johanna = 512.0def on_message(client, userdata, msg):      if msg.topic == "tau_thorben":      global var_tau_thorben      var_tau_thorben = float(msg.payload)         elif msg.topic == "tau_livingroom":      global var_tau_livingroom      var_tau_livingroom = float(msg.payload)	     elif msg.topic == "tau_johanna":      global var_tau_johanna      var_tau_johanna = float(msg.payload)      	def on_connect(client, userdata, flags, rc):    print("Connected with result code "+str(rc))	client = mqtt.Client()client.on_connect = on_connectclient.on_message = on_messageclient.connect("192.168.178.102")client.subscribe("tau_thorben", 2)client.subscribe("tau_livingroom", 2)client.subscribe("tau_outdoor", 2)client.subscribe("tau_johanna", 2)client.loop_start()while True:   lookup = weather.lookup(656958)   temp = float(lookup.condition.temp)   humid = float(lookup.atmosphere.humidity)   if temp >= 0 :      a = 17.5      b = 237.3   elif temp < 0 :      a = 17.6      b = 240.7   f = (a*temp)/(b+temp) + math.log(humid/100)   var_tau_outdoor = (b*f) / (a-f)      if ((var_tau_thorben-var_tau_outdoor)<0) :      client.publish("kai-uwe_thorben","GREEN")      client.publish("air_thorben", "Papa hat nichts zu meckern")   elif ((var_tau_thorben)-(var_tau_outdoor+YELLOW_OFFSET)<0):      client.publish("kai-uwe_thorben","YELLOW")      client.publish("air_thorben", "Die Fenster kurz aufmachen!")   else:      client.publish("kai-uwe_thorben","RED")      client.publish("air_thorben", "Fenster auf und Heizung aus, bevor Papa meckert!")   if ((var_tau_johanna-var_tau_outdoor)<0) :      client.publish("kai-uwe_johanna","GREEN")      elif ((var_tau_johanna-(var_tau_outdoor+YELLOW_OFFSET))<0):      client.publish("kai-uwe_johanna","YELLOW")      else:      client.publish("kai-uwe_johanna","RED")              if ((var_tau_livingroom-var_tau_outdoor)<0) :      client.publish("kai-uwe_livingroom","GREEN")      elif ((var_tau_livingroom-(var_tau_outdoor+YELLOW_OFFSET))<0):      client.publish("kai-uwe_livingroom","YELLOW")      else:      client.publish("kai-uwe_livingroom","RED")          time.sleep(10)